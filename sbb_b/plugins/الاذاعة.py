from sbb_b import sbb_b

GCAST_BLACKLIST = [
-1001904354189,
-1001904354189,
]

DEVS = [
    6275847466,
    56568,
]


@sbb_b.ar_cmd(pattern="Ù„Ù„ÙƒØ±ÙˆØ¨Ø§Øª(?: |$)(.*)")
async def gcast(event):
    sbb_b = event.pattern_match.group(1)
    if sbb_b:
        msg = sbb_b
    elif event.is_reply:
        msg = await event.get_reply_message()
    else:
        await edit_or_reply(
            event, "**âŒ”ğ–¢¿ ÙŠØ¬Ø¨ Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ù‡ Ø§Ùˆ ÙˆØ³Ø§Ø¦Ø· Ø§Ùˆ ÙƒØªØ§Ø¨Ù‡ Ø§Ù„Ù†Øµ Ù…Ø¹ Ø§Ù„Ø§Ù…Ø±**"
        )
        return
    roz = await edit_or_reply(event, "âŒ”ğ–¢¿ ÙŠØªÙ… Ø§Ù„Ø§Ø°Ø§Ø¹Ø© ÙÙŠ Ø§Ù„Ø®Ø§Øµ Ø§Ù†ØªØ¸Ø± Ù„Ø­Ø¶Ù‡")
    er = 0
    done = 0
    async for x in event.client.iter_dialogs():
        if x.is_group:
            chat = x.id
            try:
                if chat not in GCAST_BLACKLIST:
                    await event.client.send_message(chat, msg)
                    done += 1
            except BaseException:
                er += 1
    await roz.edit(
        f"**âŒ”ğ–¢¿  ØªÙ… Ø¨Ù†Ø¬Ø§Ø­ Ø§Ù„Ø£Ø°Ø§Ø¹Ø© Ø§Ù„Ù‰ ** `{done}` **Ù…Ù† Ø§Ù„Ø¯Ø±Ø¯Ø´Ø§Øª ØŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ù‰ ** `{er}` **Ù…Ù† Ø§Ù„Ø¯Ø±Ø¯Ø´Ø§Øª**"
    )


@sbb_b.ar_cmd(pattern="Ù„Ù„Ø®Ø§Øµ(?: |$)(.*)")
async def gucast(event):
    sbb_b = event.pattern_match.group(1)
    if sbb_b:
        msg = sbb_b
    elif event.is_reply:
        msg = await event.get_reply_message()
    else:
        await edit_or_reply(
            event, "**âŒ”ğ–¢¿ ÙŠØ¬Ø¨ Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø±Ø³Ø§Ù„Ù‡ Ø§Ùˆ ÙˆØ³Ø§Ø¦Ø· Ø§Ùˆ ÙƒØªØ§Ø¨Ù‡ Ø§Ù„Ù†Øµ Ù…Ø¹ Ø§Ù„Ø§Ù…Ø±**"
        )
        return
    roz = await edit_or_reply(event, "âŒ”ğ–¢¿ ÙŠØªÙ… Ø§Ù„Ø§Ø°Ø§Ø¹Ø© ÙÙŠ Ø§Ù„Ø®Ø§Øµ Ø§Ù†ØªØ¸Ø± Ù„Ø­Ø¶Ù‡")
    er = 0
    done = 0
    async for x in event.client.iter_dialogs():
        if x.is_user and not x.entity.bot:
            chat = x.id
            try:
                if chat not in DEVS:
                    await event.client.send_message(chat, msg)
                    done += 1
            except BaseException:
                er += 1
    await roz.edit(
        f"**âŒ”ğ–¢¿  ØªÙ… Ø¨Ù†Ø¬Ø§Ø­ Ø§Ù„Ø£Ø°Ø§Ø¹Ø© Ø§Ù„Ù‰ ** `{done}` **Ù…Ù† Ø§Ù„Ø¯Ø±Ø¯Ø´Ø§Øª ØŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ù‰ ** `{er}` **Ù…Ù† Ø§Ù„Ø¯Ø±Ø¯Ø´Ø§Øª**"
    )
